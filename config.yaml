server:
  host: 127.0.0.1
  port: 3005
  sso_secret_key: "NIQ-SECURE-SECRET-KEY-FOR-SSO-HANDSHAKE" 

  # CORS middleware 설정
  cors_origins:
    - "http://localhost:5173"
    - "http://localhost:5174"
  trusted_hosts:
    - "*"
  force_https: false
  gzip_min_size: 1000

  # 쿠키 보안 설정
  cookie_name: "coreiq_session"
  cookie_session_max_age: 28800 # 8 hours
  cookie_httponly: true   # 자바스크립트로 쿠키에 접근하지 못하게 해 XSS로 인한 탈취 방지
  cookie_secure: false    # [수정] 로컬(HTTP)에서는 false여야 쿠키가 저장됨
  cookie_samesite: "lax"  # [수정] "none"으로 하면 secure: true가 필수라 "lax"가 무난

database:
  url: "postgresql://n-iq:pps5763@localhost:5432/pps_rag"

provider:
  openai:
    api_key: !ENV ${OPENAI_API_KEY}
    base_url: "https://api.openai.com/v1"
  huggingface: {}
  # ollama:
  #   base_url: "http://localhost:11434"

default:
  timeout: 60
  top_p: 0.8
  repetition_penalty: 1.2
  no_repeat_ngram_size: 3
  early_stopping: true
  max_tokens: 20000

workspace:
  chat_history: 20
  query_refusal_response: "There is no information about this topic."
  top_n: 4
  similarity_threshold: 0.25
  temperature: 0.7

models_dir:
  llm_models_path: storage/models/llm
  embedding_model_path: storage/models/embedding
  rerank_model_path: storage/models/embedding-rerank/Qwen3-Reranker-0.6B

# 문서 저장경로
admin_raw_data_dir: storage/documents/raw_files/admin_raw_data
user_raw_data_dir: storage/documents/raw_files/user_raw_data
test_llm_raw_data_dir: storage/documents/raw_files/test_llm
# 문서생성 / 텍스트 요약 전체 텍스트 저장 경로
full_text_dir : storage/documents/full_text 

retrieval:
  temp_ttl_hours: 12
  paths:
    resources_dir: service/admin/resources
    val_session_root: storage/val_data
  milvus:
    uri: http://localhost:19530
    # token: ${MILVUS_TOKEN:-""}
    collections:
      ADMIN_DOCS: admin_docs_collection
      LLM_TEST: llm_test_collection
      WS_DOCS: workspace_docs_collection
      TEMP_ATTACH: temp_attach_collection
  task_types:
    - doc_gen
    - summary
    - qna
